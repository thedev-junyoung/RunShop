# 2024년 9월 10일
## 주요 작업 사항

### 1. **CartItem 매핑 수정**

- 기존 Cart 엔티티를 삭제하고 CartItem과 직접 매핑하도록 구조 변경
- CartItem이 Product와 User와의 관계에서 N:1 관계로 설정되었으며, 외래키로 `user_id`, `product_id` 컬럼을 사용
- 엔티티 간 매핑 수정 후 데이터베이스 스키마를 재생성하고 정상적으로 매핑되었는지 확인

### 2. **Dirty Checking으로 인한 `save()` 메서드 삭제**

- Dirty Checking으로 인해 중복 호출되는 `save()` 메서드를 삭제
- 트랜잭션 설정 변경으로 인해 메서드 호출에 의한 중복 저장 문제를 방지
- Enum 타입 변경 및 관련 부분 리팩토링, 전체 코드에 대한 Enum 사용 방식 검토 및 개선

### 3. **오류 처리**

- CartItem과 User, Product 간의 매핑 오류 수정
- 데이터베이스 테이블과 JPA 매핑 간에 발생하던 문제 해결
- 데이터베이스에 대한 정확한 외래키 설정을 통해 매핑 문제 해결 완료

## 개선 사항

- CartItem 매핑 문제 해결로 전체 Cart 기능의 안정성 증가.
- `save()` 메서드 중복 호출을 방지하여 불필요한 데이터베이스 호출 감소.
- Enum 리팩토링 및 트랜잭션 설정 변경으로 데이터 일관성 확보.
- 오류 처리와 매핑 문제 해결로 런타임 에러 감소.